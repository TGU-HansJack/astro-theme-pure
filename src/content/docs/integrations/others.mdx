---
title: '其他集成'
description: '其他有助于改善你网站的集成'
---

import { Aside, Tabs, TabItem, Steps } from 'astro-pure/user'

<Aside>文档仍在编写中。</Aside>

## `medium-zoom`

查看[medium-zoom](https://github.com/francoischalifour/medium-zoom)了解更多信息。

```ts title="src/site.config.ts"
export const integ: IntegrationUserConfig = {
  // ...
  // 轻量级库，可添加缩放效果
  mediumZoom: {
    enable: true, // 禁用它将不会加载整个库
    selector: '.prose .zoomable',
    options: {
      className: 'zoomable'
    }
  }
}
```

本主题默认在 `BlogPost.astro` 中集成了它，这意味着 `src/content/blog` 中的内容不需要导入。如果你想在任何其他布局或页面中使用它，可以使用以下代码:

<Tabs>
<TabItem label='Astro'>
```astro
---
import { MediumZoom } from 'astro-pure/advanced'
---

<div class="prose">
  <img src="/path/to/image.jpg" class="zoomable" />
</div>

<MediumZoom />
{/* 或带配置 */}
<MediumZoom
  selector=".prose .zoomable"
  background="rgba(0, 0, 0, 0.7)"
 />
```
</TabItem>
<TabItem label='MDX'>
```tsx
import { MediumZoom } from 'astro-pure/advanced'

// .zoomable 类将使用remark插件自动添加
![](path/to/image.jpg)

<MediumZoom />
// 或带配置
<MediumZoom
  selector=".prose .zoomable"
  background="rgba(0, 0, 0, 0.7)"
 />
```
</TabItem>
</Tabs>


## `@playform/compress`

查看[playform/compress](https://github.com/PlayForm/Compress)了解更多信息。

## Friend-Circle-Lite

参见[友情链接 #与`Friend-Circle-Lite`集成](/docs/integrations/links#integrated-with-friend-circle-lite)。

## LateX支持

以防将来本主题移除LateX默认支持，这里有一个教程帮助你添加支持。

在Astro.js中渲染LaTeX可以让你的markdown文件更加丰富，使内容既引人入胜又信息丰富。以下步骤概述了将LaTeX集成到Astro.js中的必要步骤，并解决了潜在的陷阱及其解决方案。

<Steps>

1. 安装必要包

   首先安装 `remark-math` 和 `rehype-katex`。这些包分别解析和渲染LaTeX。使用安装命令:

   ```shell
   bun install remark-math rehype-katex
   ```

2. 配置Astro

   修改你的Astro配置以使用这些插件。将插件添加到astro.config.mjs中的markdown配置部分:

   ```js title="astro.config.mjs"
   import { defineConfig } from 'astro/config';
   import remarkMath from 'remark-math';
   import rehypeKatex from 'rehype-katex';

   export default defineConfig({
      // ...
      markdown: {
         remarkPlugins: [remarkMath],
         rehypePlugins: [rehypeKatex],
      },
   });
   ```

3. 包含KaTeX CSS

   为确保LaTeX公式正确样式化，请在HTML布局中包含KaTeX CSS（在本主题中是在 `BlogPost.astro` 文件中）。添加以下css资源:

   ```astro title="src/layouts/BlogPost.astro"
   ---
   import 'katex/dist/katex.min.css'
   ---
   ```

   或使用CDN加速:

   ```astro title="src/layouts/BlogPost.astro"
   ---
   import config from '@/site-config'
   ---
   <link rel="stylesheet" href={`${config.npmCDN}/katex@0.16.15/dist/katex.min.css`}>
   ```

4. 推荐一些CSS代码:

   为确保LaTeX公式更好地显示，你可能需要将以下代码添加到 `public/styles/global.css`:

   ```css
   span.katex-display {
     overflow-y: scroll;
     padding: 0.5rem;
   }
   .katex-html {
     overflow: auto hidden;
     padding: 3px;
   }
   .katex-html .base {
     margin-block: 0;
     margin-inline: auto;
   }
   .katex-html .tag {
     position: relative !important;
     display: inline-block;
     padding-inline-start: 0.5rem;
   }
   ```

</Steps>

常见陷阱和解决方案:

- CSS样式问题
  
  问题: 如果未加载KaTeX CSS，LaTeX公式可能无法以正确样式渲染。

  解决方案: 确认KaTeX样式表链接正确放置在HTML头部且正在加载而无错误。检查是否有网络错误或限制阻止CSS加载。

- 构建错误

  问题: 处理LaTeX语法时构建时错误。

  解决方案: 确保你的LaTeX格式正确且markdown文件中没有语法错误。LaTeX语法错误可能破坏解析器并导致构建失败。